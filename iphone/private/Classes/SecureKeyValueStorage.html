<!DOCTYPE html>
<html lang="en">
  <head>
    <title>SecureKeyValueStorage Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Class/SecureKeyValueStorage" class="dashAnchor"></a>

    <a title="SecureKeyValueStorage Class Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          PrivacyKit Docs
        </a>
         (99% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/AppPETs/PrivacyKit">
            <img class="header-icon" src="../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">PrivacyKit Reference</a>
      <img class="carat" src="../img/carat.png" />
      SecureKeyValueStorage Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/ConfidentialQrCodeView.html">ConfidentialQrCodeView</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Http.html">Http</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Http/Error.html">– Error</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Http/Method.html">– Method</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Http/StatusCategory.html">– StatusCategory</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Http/Status.html">– Status</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Http/Header.html">– Header</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Http/ContentType.html">– ContentType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Http/Message.html">– Message</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Http/Request.html">– Request</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Http/Response.html">– Response</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Indicators.html">Indicators</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/PairedStream.html">PairedStream</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/PrivacyService.html">PrivacyService</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/PrivacyService/KeyValueStorage.html">– KeyValueStorage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/RegularExpression.html">RegularExpression</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/SecureKeyValueStorage.html">SecureKeyValueStorage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/SecureKeyValueStorage/Error.html">– Error</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Shalon.html">Shalon</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Shalon/State.html">– State</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/ShalonURLProtocol.html">ShalonURLProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/ShalonURLProtocol/ParseError.html">– ParseError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/ShalonURLProtocol/Parameters.html">– Parameters</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/TLSInputStream.html">TLSInputStream</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/TLSOutputStream.html">TLSOutputStream</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/TlsSession.html">TlsSession</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/WrappedInputStream.html">WrappedInputStream</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/WrappedOutputStream.html">WrappedOutputStream</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Global Variables.html">Global Variables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Global Variables.html#/s:10PrivacyKit16ChunkSizeInBytes33_CFF75C00828C0134E7FA8E500ED707D2LLSivp">ChunkSizeInBytes</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Global Variables.html#/s:10PrivacyKit17MASTER_KEY_PREFIXSSvp">MASTER_KEY_PREFIX</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Global Variables.html#/s:10PrivacyKit31MASTER_KEY_PREFIX_SIZE_IN_BYTESSivp">MASTER_KEY_PREFIX_SIZE_IN_BYTES</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/AuthenticationError.html">AuthenticationError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/GenericError.html">GenericError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/TlsStreamError.html">TlsStreamError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/HTTPURLResponse.html">HTTPURLResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/InputStream.html">InputStream</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/MasterKey.html">MasterKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/OutputStream.html">OutputStream</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/URLRequest.html">URLRequest</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:10PrivacyKit2etoiSbSS_AA17RegularExpressionCtF">=~(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:10PrivacyKit2etoiSbSS_SStF">=~(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:10PrivacyKit23authenticateDeviceOwnerSo9LAContextCSS6reason_yAA19AuthenticationErrorOSgc10completiontF">authenticateDeviceOwner(reason:completion:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:10PrivacyKit7tlsRead33_CFF75C00828C0134E7FA8E500ED707D2LLs5Int32VSV13connectionPtr_Sv04dataO0SpySiG0p6LengthO0tF">tlsRead(connectionPtr:dataPtr:dataLengthPtr:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:10PrivacyKit8tlsWrite33_CFF75C00828C0134E7FA8E500ED707D2LLs5Int32VSV13connectionPtr_SV04dataO0SpySiG0p6LengthO0tF">tlsWrite(connectionPtr:dataPtr:dataLengthPtr:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/KeyValueStorage.html">KeyValueStorage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/KeyValueStorageBackend.html">KeyValueStorageBackend</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/TlsSessionDelegate.html">TlsSessionDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/EncryptedKey.html">EncryptedKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Target.html">Target</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/s:10PrivacyKit21AuthenticationContexta">AuthenticationContext</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/s:10PrivacyKit14EncryptedValuea">EncryptedValue</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/Image">Image</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/s:10PrivacyKit5Imagea">Image</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/ImageView">ImageView</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/s:10PrivacyKit9ImageViewa">ImageView</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            <h1>SecureKeyValueStorage</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">SecureKeyValueStorage</span></code></pre>

                </div>
              </div>
            <p>This class offers a key-value storage, where the values are encrypted and
the keys are hashed, with a private hashing function. The key-value storage
backend cannot link keys or values with others, assuming there are multiple
users, using the same backend. If a network is used, an anonymous
communication network should be used in order to avoid linkability through
traffic data.</p>
<div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    <p>The values are not protected by padding, meaning that the backend
provider could still guess the content based on its size.</p>

</div>
<div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    <p>There is no access protection of the keys. The sole protection is, that
nobody can get your keys. The values are protected by encryption, so
confidentiality and integrity are protected, but availability is not.
The backend provider, who knows which keys are stored in the backend,
could delete or overwrite them.</p>

</div>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageC7Contexta"></a>
                    <a name="//apple_ref/swift/Alias/Context" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageC7Contexta">Context</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The context that is used for deriving the cryptographic keys from a
master key.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">typealias</span> <span class="kt">Context</span> <span class="o">=</span> <span class="kt">MasterKey</span><span class="o">.</span><span class="kt">Context</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L261">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageC5ErrorO"></a>
                    <a name="//apple_ref/swift/Enum/Error" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageC5ErrorO">Error</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An error that might occur when storing or retrieving values.</p>

                        <a href="../Classes/SecureKeyValueStorage/Error.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">enum</span> <span class="kt">Error</span> <span class="p">:</span> <span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L266-L298">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageC04HashD2Id33_2FA5C16AD5DD08EC322F26B464481824LLs6UInt64VvpZ"></a>
                    <a name="//apple_ref/swift/Variable/HashKeyId" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageC04HashD2Id33_2FA5C16AD5DD08EC322F26B464481824LLs6UInt64VvpZ">HashKeyId</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The index used for deriving the key for private hashing from the master
key.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">private</span> <span class="kd">static</span> <span class="k">let</span> <span class="nv">HashKeyId</span><span class="p">:</span> <span class="kt">UInt64</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L304">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageC06SecretD2Id33_2FA5C16AD5DD08EC322F26B464481824LLs6UInt64VvpZ"></a>
                    <a name="//apple_ref/swift/Variable/SecretKeyId" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageC06SecretD2Id33_2FA5C16AD5DD08EC322F26B464481824LLs6UInt64VvpZ">SecretKeyId</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The index used for deriving the secret key for encrypting values from
the master key.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">private</span> <span class="kd">static</span> <span class="k">let</span> <span class="nv">SecretKeyId</span><span class="p">:</span> <span class="kt">UInt64</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L310">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageC7backendAA0deF7Backend_pvp"></a>
                    <a name="//apple_ref/swift/Property/backend" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageC7backendAA0deF7Backend_pvp">backend</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The backend used for storing encrypted values.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">let</span> <span class="nv">backend</span><span class="p">:</span> <span class="kt"><a href="../Protocols/KeyValueStorageBackend.html">KeyValueStorageBackend</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L315">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageC9secretBox9Tafelsalz06SecretH0Cvp"></a>
                    <a name="//apple_ref/swift/Property/secretBox" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageC9secretBox9Tafelsalz06SecretH0Cvp">secretBox</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The secret box used for encrypting values.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">let</span> <span class="nv">secretBox</span><span class="p">:</span> <span class="kt">SecretBox</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L320">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageC04hashD09Tafelsalz11GenericHashC0D0Cvp"></a>
                    <a name="//apple_ref/swift/Property/hashKey" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageC04hashD09Tafelsalz11GenericHashC0D0Cvp">hashKey</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The key used for private hashing.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">let</span> <span class="nv">hashKey</span><span class="p">:</span> <span class="kt">GenericHash</span><span class="o">.</span><span class="kt">Key</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L325">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageCAcA0deF7Backend_p4with_9Tafelsalz06MasterD0C3andAH7ContextV7contexttcfc"></a>
                    <a name="//apple_ref/swift/Method/init(with:and:context:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageCAcA0deF7Backend_p4with_9Tafelsalz06MasterD0C3andAH7ContextV7contexttcfc">init(with:and:context:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Initialize a secure key-value storage with a given backend.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="nf">init</span><span class="p">(</span><span class="n">with</span> <span class="nv">backend</span><span class="p">:</span> <span class="kt"><a href="../Protocols/KeyValueStorageBackend.html">KeyValueStorageBackend</a></span><span class="p">,</span> <span class="n">and</span> <span class="nv">masterKey</span><span class="p">:</span> <span class="kt">MasterKey</span><span class="p">,</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Classes/SecureKeyValueStorage.html#/s:10PrivacyKit21SecureKeyValueStorageC7Contexta">Context</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>backend</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The backend used for storing encrypted values.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>masterKey</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The master key used for deriving they keys for
encrypting values and the key used for private hashing.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context used for deriving the keys from the master
key.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L337-L341">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageCAcA0A7ServiceC4with_9Tafelsalz06MasterD0C3andAI7ContextV7contexttcfc"></a>
                    <a name="//apple_ref/swift/Method/init(with:and:context:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageCAcA0A7ServiceC4with_9Tafelsalz06MasterD0C3andAI7ContextV7contexttcfc">init(with:and:context:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Initialize a secure key-value storage with a given P-Service.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="n">convenience</span> <span class="nf">init</span><span class="p">(</span><span class="n">with</span> <span class="nv">service</span><span class="p">:</span> <span class="kt"><a href="../Classes/PrivacyService.html">PrivacyService</a></span><span class="p">,</span> <span class="n">and</span> <span class="nv">masterKey</span><span class="p">:</span> <span class="kt">MasterKey</span><span class="p">,</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Classes/SecureKeyValueStorage.html#/s:10PrivacyKit21SecureKeyValueStorageC7Contexta">Context</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>service</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The P-Service used for storing encrypted values.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>masterKey</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The master key used for deriving they keys for
encrypting values and the key used for private hashing.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context used for deriving the keys from the master
key.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L353-L355">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageCACSgAA0deF7Backend_p4with_9Tafelsalz7PersonaC3forAG06MasterD0C7ContextV7contexttcfc"></a>
                    <a name="//apple_ref/swift/Method/init(with:for:context:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageCACSgAA0deF7Backend_p4with_9Tafelsalz7PersonaC3forAG06MasterD0C7ContextV7contexttcfc">init(with:for:context:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Initialize a secure key-value storage with a given backend and a given
persona.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="n">convenience</span> <span class="nf">init</span><span class="p">?(</span><span class="n">with</span> <span class="nv">backend</span><span class="p">:</span> <span class="kt"><a href="../Protocols/KeyValueStorageBackend.html">KeyValueStorageBackend</a></span><span class="p">,</span> <span class="k">for</span> <span class="nv">persona</span><span class="p">:</span> <span class="kt">Persona</span><span class="p">,</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Classes/SecureKeyValueStorage.html#/s:10PrivacyKit21SecureKeyValueStorageC7Contexta">Context</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>backend</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The backend used for storing encrypted values.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>persona</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The persona, whose keys are used.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context used for deriving the keys from the master
key of the persona.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p><code>nil</code> if there is an issue creating or retrieving the persona&rsquo;s keys
from the Keychain.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L371-L374">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageCACSgAA0A7ServiceC4with_9Tafelsalz7PersonaC3forAH06MasterD0C7ContextV7contexttcfc"></a>
                    <a name="//apple_ref/swift/Method/init(with:for:context:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageCACSgAA0A7ServiceC4with_9Tafelsalz7PersonaC3forAH06MasterD0C7ContextV7contexttcfc">init(with:for:context:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Initialize a secure key-value storage with a given P-Service and a given
persona.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="n">convenience</span> <span class="nf">init</span><span class="p">?(</span><span class="n">with</span> <span class="nv">service</span><span class="p">:</span> <span class="kt"><a href="../Classes/PrivacyService.html">PrivacyService</a></span><span class="p">,</span> <span class="k">for</span> <span class="nv">persona</span><span class="p">:</span> <span class="kt">Persona</span><span class="p">,</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Classes/SecureKeyValueStorage.html#/s:10PrivacyKit21SecureKeyValueStorageC7Contexta">Context</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>service</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The P-Service used for storing encrypted values.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>persona</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The persona, whose keys are used.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context used for deriving the keys from the master
key of the persona.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p><code>nil</code> if there is an issue creating or retrieving the persona&rsquo;s keys
from the Keychain.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L390-L392">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageC7encryptAA09EncryptedD0VSSF"></a>
                    <a name="//apple_ref/swift/Method/encrypt(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageC7encryptAA09EncryptedD0VSSF">encrypt(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Perform private hashing on a key (as in key-value).</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">encrypt</span><span class="p">(</span><span class="n">_</span> <span class="nv">key</span><span class="p">:</span> <span class="kt">Key</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/EncryptedKey.html">EncryptedKey</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>key</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The key (as in key-value).</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A private hash.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L403-L406">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageC7encrypt9Tafelsalz9SecretBoxC23AuthenticatedCiphertextVSays5UInt8VGF"></a>
                    <a name="//apple_ref/swift/Method/encrypt(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageC7encrypt9Tafelsalz9SecretBoxC23AuthenticatedCiphertextVSays5UInt8VGF">encrypt(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Encrypt a value.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">encrypt</span><span class="p">(</span><span class="n">_</span> <span class="nv">value</span><span class="p">:</span> <span class="kt">Value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Typealiases.html#/s:10PrivacyKit14EncryptedValuea">EncryptedValue</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>value</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The plaintext value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>The encrypte value.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L417-L419">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageC7decryptSays5UInt8VG9Tafelsalz9SecretBoxC23AuthenticatedCiphertextVKF"></a>
                    <a name="//apple_ref/swift/Method/decrypt(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageC7decryptSays5UInt8VG9Tafelsalz9SecretBoxC23AuthenticatedCiphertextVKF">decrypt(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Decrypt a value.</p>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p><code>failedToDecrypt</code> if the value could not be decrypted.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">decrypt</span><span class="p">(</span><span class="n">_</span> <span class="nv">encrytedValue</span><span class="p">:</span> <span class="kt"><a href="../Typealiases.html#/s:10PrivacyKit14EncryptedValuea">EncryptedValue</a></span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Value</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>encryptedValue</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The encrypted value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>The plaintext value.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L433-L438">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Encryption"></a>
                <a name="//apple_ref/swift/Section/Encryption" class="dashAnchor"></a>
                <a href="#/Encryption">
                  <h3 class="section-name">Encryption</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageC5storeySays5UInt8VG5value_SS3forys5Error_pSgc8finishedtF"></a>
                    <a name="//apple_ref/swift/Method/store(value:for:finished:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageC5storeySays5UInt8VG5value_SS3forys5Error_pSgc8finishedtF">store(value:for:finished:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Store a value in the key-value storage for a given key. The value will
be encrypted. Both the original key and the plaintext value cannot be
accessed by the backend.</p>
<h2 id='example' class='heading'>Example</h2>
<pre class="highlight swift"><code><span class="n">storage</span><span class="o">.</span><span class="nf">store</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="s">"My PIN"</span><span class="p">,</span> <span class="nv">value</span><span class="p">:</span> <span class="kt">Data</span><span class="p">(</span><span class="s">"1234"</span><span class="o">.</span><span class="n">utf8</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">optionalError</span> <span class="k">in</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">error</span> <span class="o">=</span> <span class="n">optionalError</span> <span class="p">{</span>
        <span class="c1">// TODO Handle error</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">store</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="kt">Value</span><span class="p">,</span> <span class="k">for</span> <span class="nv">key</span><span class="p">:</span> <span class="kt">Key</span><span class="p">,</span> <span class="nv">finished</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Swift</span><span class="o">.</span><span class="kt"><a href="../Classes/SecureKeyValueStorage/Error.html">Error</a></span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>value</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The value that should be stored.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>key</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The key that identifies the value.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>finished</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A closure that is called asynchronuously once the
operation is finished.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>error</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional error that might have occurred during storing.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L468-L470">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageC8retrieveySS3for_ySays5UInt8VGSg_s5Error_pSgtc8finishedtF"></a>
                    <a name="//apple_ref/swift/Method/retrieve(for:finished:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageC8retrieveySS3for_ySays5UInt8VGSg_s5Error_pSgtc8finishedtF">retrieve(for:finished:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Retrieve a value from the key-value storage for a given key. The value,
which is stored encrypted at the backend, will be automatically
decrypted.</p>
<h2 id='example' class='heading'>Example</h2>
<pre class="highlight swift"><code><span class="n">storage</span><span class="o">.</span><span class="nf">retrieve</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="s">"My PIN"</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">optionalValue</span><span class="p">,</span> <span class="n">optionalError</span> <span class="k">in</span>

    <span class="nf">precondition</span><span class="p">((</span><span class="n">optionalValue</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">optionalError</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">))</span>

    <span class="k">guard</span> <span class="k">let</span> <span class="nv">value</span> <span class="o">=</span> <span class="n">optionalValue</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">error</span> <span class="o">=</span> <span class="n">optionalError</span><span class="o">!</span>
        <span class="c1">// TODO Handle error</span>
        <span class="k">return</span>
    <span class="p">}</span>

    <span class="c1">// Success, do something with `value`</span>
<span class="p">}</span>
</code></pre>
<div class="aside aside-postcondition">
    <p class="aside-title">Postcondition</p>
    <p>(<code>value</code> = <code>nil</code>) ⊻ (<code>error</code> = <code>nil</code>)</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">retrieve</span><span class="p">(</span><span class="k">for</span> <span class="nv">key</span><span class="p">:</span> <span class="kt">Key</span><span class="p">,</span> <span class="nv">finished</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Value</span><span class="p">?,</span> <span class="kt">Swift</span><span class="o">.</span><span class="kt"><a href="../Classes/SecureKeyValueStorage/Error.html">Error</a></span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>key</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The key that identifies the value.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>finished</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A closure that is called asynchronuously once the
operation is finished.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>value</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The value if no error occurred, <code>nil</code> else.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>error</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional error that might have occurred during storing.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L505-L523">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10PrivacyKit21SecureKeyValueStorageC6removeySS3for_ys5Error_pSgc8finishedtF"></a>
                    <a name="//apple_ref/swift/Method/remove(for:finished:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10PrivacyKit21SecureKeyValueStorageC6removeySS3for_ys5Error_pSgc8finishedtF">remove(for:finished:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Remove the value from the key-value storage for a given key.</p>
<h2 id='example' class='heading'>Example</h2>
<pre class="highlight swift"><code><span class="n">storage</span><span class="o">.</span><span class="nf">remove</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="s">"name"</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">optionalError</span> <span class="k">in</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">error</span> <span class="o">=</span> <span class="n">optionalError</span> <span class="p">{</span>
        <span class="c1">// TODO Handle error</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">remove</span><span class="p">(</span><span class="k">for</span> <span class="nv">key</span><span class="p">:</span> <span class="kt"><a href="../Protocols/KeyValueStorage.html">KeyValueStorage</a></span><span class="o">.</span><span class="kt">Key</span><span class="p">,</span> <span class="nv">finished</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Swift</span><span class="o">.</span><span class="kt"><a href="../Classes/SecureKeyValueStorage/Error.html">Error</a></span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>key</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The key that identifies the value.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>finished</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A closure that is called asynchronuously once the
operation is finished.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>error</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional error that might have occurred during storing.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/AppPETs/PrivacyKit/blob/d889e641222b9a019572dcd2ce7f11f076e05a64/PrivacyKit/KeyValueStorage.swift#L546-L548">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2018 <a class="link" href="https://github.com/AppPETs" target="_blank" rel="external">AppPETs</a>. All rights reserved. (Last updated: 2018-08-23)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
